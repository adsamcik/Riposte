{
  "formatVersion": 1,
  "database": {
    "version": 6,
    "identityHash": "f3c4a01094127f07c6175e178bcf2c1a",
    "entities": [
      {
        "tableName": "memes",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `filePath` TEXT NOT NULL, `fileName` TEXT NOT NULL, `mimeType` TEXT NOT NULL, `width` INTEGER NOT NULL, `height` INTEGER NOT NULL, `fileSizeBytes` INTEGER NOT NULL, `importedAt` INTEGER NOT NULL, `emojiTagsJson` TEXT NOT NULL, `title` TEXT, `description` TEXT, `textContent` TEXT, `embedding` BLOB, `isFavorite` INTEGER NOT NULL, `createdAt` INTEGER NOT NULL, `useCount` INTEGER NOT NULL, `viewCount` INTEGER NOT NULL DEFAULT 0, `lastViewedAt` INTEGER DEFAULT NULL, `primaryLanguage` TEXT, `localizationsJson` TEXT)",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "filePath",
            "columnName": "filePath",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "fileName",
            "columnName": "fileName",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "mimeType",
            "columnName": "mimeType",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "width",
            "columnName": "width",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "height",
            "columnName": "height",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "fileSizeBytes",
            "columnName": "fileSizeBytes",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "importedAt",
            "columnName": "importedAt",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "emojiTagsJson",
            "columnName": "emojiTagsJson",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "title",
            "columnName": "title",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "description",
            "columnName": "description",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "textContent",
            "columnName": "textContent",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "embedding",
            "columnName": "embedding",
            "affinity": "BLOB"
          },
          {
            "fieldPath": "isFavorite",
            "columnName": "isFavorite",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "createdAt",
            "columnName": "createdAt",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "useCount",
            "columnName": "useCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "viewCount",
            "columnName": "viewCount",
            "affinity": "INTEGER",
            "notNull": true,
            "defaultValue": "0"
          },
          {
            "fieldPath": "lastViewedAt",
            "columnName": "lastViewedAt",
            "affinity": "INTEGER",
            "defaultValue": "NULL"
          },
          {
            "fieldPath": "primaryLanguage",
            "columnName": "primaryLanguage",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "localizationsJson",
            "columnName": "localizationsJson",
            "affinity": "TEXT"
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "index_memes_importedAt",
            "unique": false,
            "columnNames": [
              "importedAt"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_memes_importedAt` ON `${TABLE_NAME}` (`importedAt`)"
          },
          {
            "name": "index_memes_isFavorite",
            "unique": false,
            "columnNames": [
              "isFavorite"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_memes_isFavorite` ON `${TABLE_NAME}` (`isFavorite`)"
          },
          {
            "name": "index_memes_filePath",
            "unique": true,
            "columnNames": [
              "filePath"
            ],
            "orders": [],
            "createSql": "CREATE UNIQUE INDEX IF NOT EXISTS `index_memes_filePath` ON `${TABLE_NAME}` (`filePath`)"
          },
          {
            "name": "index_memes_viewCount",
            "unique": false,
            "columnNames": [
              "viewCount"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_memes_viewCount` ON `${TABLE_NAME}` (`viewCount`)"
          },
          {
            "name": "index_memes_lastViewedAt",
            "unique": false,
            "columnNames": [
              "lastViewedAt"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_memes_lastViewedAt` ON `${TABLE_NAME}` (`lastViewedAt`)"
          }
        ]
      },
      {
        "tableName": "memes_fts",
        "createSql": "CREATE VIRTUAL TABLE IF NOT EXISTS `${TABLE_NAME}` USING FTS4(`fileName` TEXT NOT NULL, `emojiTagsJson` TEXT NOT NULL, `title` TEXT, `description` TEXT, `textContent` TEXT, content=`memes`)",
        "fields": [
          {
            "fieldPath": "fileName",
            "columnName": "fileName",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "emojiTagsJson",
            "columnName": "emojiTagsJson",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "title",
            "columnName": "title",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "description",
            "columnName": "description",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "textContent",
            "columnName": "textContent",
            "affinity": "TEXT"
          }
        ],
        "primaryKey": {
          "autoGenerate": false,
          "columnNames": []
        },
        "ftsVersion": "FTS4",
        "ftsOptions": {
          "tokenizer": "simple",
          "tokenizerArgs": [],
          "contentTable": "memes",
          "languageIdColumnName": "",
          "matchInfo": "FTS4",
          "notIndexedColumns": [],
          "prefixSizes": [],
          "preferredOrder": "ASC"
        },
        "contentSyncTriggers": [
          "CREATE TRIGGER IF NOT EXISTS room_fts_content_sync_memes_fts_BEFORE_UPDATE BEFORE UPDATE ON `memes` BEGIN DELETE FROM `memes_fts` WHERE `docid`=OLD.`rowid`; END",
          "CREATE TRIGGER IF NOT EXISTS room_fts_content_sync_memes_fts_BEFORE_DELETE BEFORE DELETE ON `memes` BEGIN DELETE FROM `memes_fts` WHERE `docid`=OLD.`rowid`; END",
          "CREATE TRIGGER IF NOT EXISTS room_fts_content_sync_memes_fts_AFTER_UPDATE AFTER UPDATE ON `memes` BEGIN INSERT INTO `memes_fts`(`docid`, `fileName`, `emojiTagsJson`, `title`, `description`, `textContent`) VALUES (NEW.`rowid`, NEW.`fileName`, NEW.`emojiTagsJson`, NEW.`title`, NEW.`description`, NEW.`textContent`); END",
          "CREATE TRIGGER IF NOT EXISTS room_fts_content_sync_memes_fts_AFTER_INSERT AFTER INSERT ON `memes` BEGIN INSERT INTO `memes_fts`(`docid`, `fileName`, `emojiTagsJson`, `title`, `description`, `textContent`) VALUES (NEW.`rowid`, NEW.`fileName`, NEW.`emojiTagsJson`, NEW.`title`, NEW.`description`, NEW.`textContent`); END"
        ]
      },
      {
        "tableName": "emoji_tags",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`memeId` INTEGER NOT NULL, `emoji` TEXT NOT NULL, `emojiName` TEXT NOT NULL, PRIMARY KEY(`memeId`, `emoji`), FOREIGN KEY(`memeId`) REFERENCES `memes`(`id`) ON UPDATE NO ACTION ON DELETE CASCADE )",
        "fields": [
          {
            "fieldPath": "memeId",
            "columnName": "memeId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "emoji",
            "columnName": "emoji",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "emojiName",
            "columnName": "emojiName",
            "affinity": "TEXT",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": false,
          "columnNames": [
            "memeId",
            "emoji"
          ]
        },
        "indices": [
          {
            "name": "index_emoji_tags_emoji",
            "unique": false,
            "columnNames": [
              "emoji"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_emoji_tags_emoji` ON `${TABLE_NAME}` (`emoji`)"
          },
          {
            "name": "index_emoji_tags_memeId",
            "unique": false,
            "columnNames": [
              "memeId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_emoji_tags_memeId` ON `${TABLE_NAME}` (`memeId`)"
          }
        ],
        "foreignKeys": [
          {
            "table": "memes",
            "onDelete": "CASCADE",
            "onUpdate": "NO ACTION",
            "columns": [
              "memeId"
            ],
            "referencedColumns": [
              "id"
            ]
          }
        ]
      },
      {
        "tableName": "meme_embeddings",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `memeId` INTEGER NOT NULL, `embedding` BLOB NOT NULL, `dimension` INTEGER NOT NULL, `modelVersion` TEXT NOT NULL, `generatedAt` INTEGER NOT NULL, `sourceTextHash` TEXT, `needsRegeneration` INTEGER NOT NULL, `indexingAttempts` INTEGER NOT NULL, `lastAttemptAt` INTEGER, FOREIGN KEY(`memeId`) REFERENCES `memes`(`id`) ON UPDATE NO ACTION ON DELETE CASCADE )",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "memeId",
            "columnName": "memeId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "embedding",
            "columnName": "embedding",
            "affinity": "BLOB",
            "notNull": true
          },
          {
            "fieldPath": "dimension",
            "columnName": "dimension",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "modelVersion",
            "columnName": "modelVersion",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "generatedAt",
            "columnName": "generatedAt",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "sourceTextHash",
            "columnName": "sourceTextHash",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "needsRegeneration",
            "columnName": "needsRegeneration",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "indexingAttempts",
            "columnName": "indexingAttempts",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "lastAttemptAt",
            "columnName": "lastAttemptAt",
            "affinity": "INTEGER"
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "index_meme_embeddings_memeId",
            "unique": true,
            "columnNames": [
              "memeId"
            ],
            "orders": [],
            "createSql": "CREATE UNIQUE INDEX IF NOT EXISTS `index_meme_embeddings_memeId` ON `${TABLE_NAME}` (`memeId`)"
          },
          {
            "name": "index_meme_embeddings_modelVersion",
            "unique": false,
            "columnNames": [
              "modelVersion"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_meme_embeddings_modelVersion` ON `${TABLE_NAME}` (`modelVersion`)"
          },
          {
            "name": "index_meme_embeddings_generatedAt",
            "unique": false,
            "columnNames": [
              "generatedAt"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_meme_embeddings_generatedAt` ON `${TABLE_NAME}` (`generatedAt`)"
          }
        ],
        "foreignKeys": [
          {
            "table": "memes",
            "onDelete": "CASCADE",
            "onUpdate": "NO ACTION",
            "columns": [
              "memeId"
            ],
            "referencedColumns": [
              "id"
            ]
          }
        ]
      }
    ],
    "setupQueries": [
      "CREATE TABLE IF NOT EXISTS room_master_table (id INTEGER PRIMARY KEY,identity_hash TEXT)",
      "INSERT OR REPLACE INTO room_master_table (id,identity_hash) VALUES(42, 'f3c4a01094127f07c6175e178bcf2c1a')"
    ]
  }
}